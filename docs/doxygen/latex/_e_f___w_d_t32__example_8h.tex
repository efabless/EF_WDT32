\hypertarget{_e_f___w_d_t32__example_8h}{}\doxysection{EF\+\_\+\+WDT32\+\_\+example.\+h File Reference}
\label{_e_f___w_d_t32__example_8h}\index{EF\_WDT32\_example.h@{EF\_WDT32\_example.h}}


C header file containing an example of how to use the WDT32 APIs.  


{\ttfamily \#include \char`\"{}EF\+\_\+\+WDT32.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{_e_f___driver___common_8h_ad1c99136d1edfd0a7757f5b81600a351}{EF\+\_\+\+DRIVER\+\_\+\+STATUS}} \mbox{\hyperlink{_e_f___w_d_t32__example_8h_a8709c6d249b2cd0b4f14b2f83c7ee3bd}{EF\+\_\+\+WDT32\+\_\+example}} (void)
\begin{DoxyCompactList}\small\item\em Example Usage Example usage\+: \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
C header file containing an example of how to use the WDT32 APIs. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{_e_f___w_d_t32__example_8h_a8709c6d249b2cd0b4f14b2f83c7ee3bd}\label{_e_f___w_d_t32__example_8h_a8709c6d249b2cd0b4f14b2f83c7ee3bd}} 
\index{EF\_WDT32\_example.h@{EF\_WDT32\_example.h}!EF\_WDT32\_example@{EF\_WDT32\_example}}
\index{EF\_WDT32\_example@{EF\_WDT32\_example}!EF\_WDT32\_example.h@{EF\_WDT32\_example.h}}
\doxysubsubsection{\texorpdfstring{EF\_WDT32\_example()}{EF\_WDT32\_example()}}
{\footnotesize\ttfamily \mbox{\hyperlink{_e_f___driver___common_8h_ad1c99136d1edfd0a7757f5b81600a351}{EF\+\_\+\+DRIVER\+\_\+\+STATUS}} EF\+\_\+\+WDT32\+\_\+example (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Example Usage Example usage\+: 


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_e_f___w_d_t32_8h}{EF\_WDT32.h}}"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ Example\_WDT32\_BASE\_ADDRESS\ 0x40000000}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ WDT0\ ((EF\_WDT32\_TYPE\_PTR)Example\_WDT32\_BASE\_ADDRESS)}}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{_e_f___driver___common_8h_ad1c99136d1edfd0a7757f5b81600a351}{EF\_DRIVER\_STATUS}}\ \mbox{\hyperlink{_e_f___w_d_t32__example_8c_a8709c6d249b2cd0b4f14b2f83c7ee3bd}{EF\_WDT32\_example}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{_e_f___driver___common_8h_ad1c99136d1edfd0a7757f5b81600a351}{EF\_DRIVER\_STATUS}}\ status;}
\DoxyCodeLine{\ \ \ \ uint32\_t\ timer\_value;}
\DoxyCodeLine{\ \ \ \ uint32\_t\ timeout\_status;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Step\ 1:\ Enable\ the\ Watchdog\ Timer\ (WDT0)}}
\DoxyCodeLine{\ \ \ \ status\ =\ \mbox{\hyperlink{_e_f___w_d_t32_8c_a06ad40c0ae428ae3858c004d8d13d725}{EF\_WDT32\_enable}}(\mbox{\hyperlink{_e_f___w_d_t32__example_8c_a09d9e73511b524c49ca77eec8f988678}{WDT0}});}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (status\ !=\ \mbox{\hyperlink{_e_f___driver___common_8h_ab56c746d5d1672835c101f00f7c90b7c}{EF\_DRIVER\_OK}})\ \{\textcolor{keywordflow}{return}\ status;\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Step\ 2:\ Set\ the\ reload\ value\ to\ prevent\ timeout}}
\DoxyCodeLine{\ \ \ \ status\ =\ \mbox{\hyperlink{_e_f___w_d_t32_8c_a939788c900140f759e334e4459d4b958}{EF\_WDT32\_setReloadValue}}(\mbox{\hyperlink{_e_f___w_d_t32__example_8c_a09d9e73511b524c49ca77eec8f988678}{WDT0}},\ 0x0FFFFF);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (status\ !=\ \mbox{\hyperlink{_e_f___driver___common_8h_ab56c746d5d1672835c101f00f7c90b7c}{EF\_DRIVER\_OK}})\ \{\textcolor{keywordflow}{return}\ status;\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Step\ 3:\ Simulate\ some\ processing}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{volatile}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 1000000;\ ++i);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Step\ 4:\ Check\ if\ the\ WDT0\ has\ timed\ out}}
\DoxyCodeLine{\ \ \ \ status\ =\ \mbox{\hyperlink{_e_f___w_d_t32_8c_aa4021705a5d400c234ef2286a54a77d2}{EF\_WDT32\_isTimeOut}}(\mbox{\hyperlink{_e_f___w_d_t32__example_8c_a09d9e73511b524c49ca77eec8f988678}{WDT0}},\ \&timeout\_status);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (status\ !=\ \mbox{\hyperlink{_e_f___driver___common_8h_ab56c746d5d1672835c101f00f7c90b7c}{EF\_DRIVER\_OK}})\ \{\textcolor{keywordflow}{return}\ status;\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Step\ 5:\ If\ a\ timeout\ occurred,\ handle\ it}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (timeout\_status\ ==\ 1)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Clear\ the\ timeout\ flag\ to\ acknowledge\ the\ timeout}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ status\ =\ \mbox{\hyperlink{_e_f___w_d_t32_8c_a724d7dc17ff1b58fdb42add0f7ce8707}{EF\_WDT32\_clearTimeOutFlag}}(\mbox{\hyperlink{_e_f___w_d_t32__example_8c_a09d9e73511b524c49ca77eec8f988678}{WDT0}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (status\ !=\ \mbox{\hyperlink{_e_f___driver___common_8h_ab56c746d5d1672835c101f00f7c90b7c}{EF\_DRIVER\_OK}})\ \{\textcolor{keywordflow}{return}\ status;\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Reload\ the\ WDT0\ to\ prevent\ a\ system\ reset}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ status\ =\ \mbox{\hyperlink{_e_f___w_d_t32_8c_a5ad03a1924b7771fd1d01c636899e0ea}{EF\_WDT32\_reloadWDT}}(\mbox{\hyperlink{_e_f___w_d_t32__example_8c_a09d9e73511b524c49ca77eec8f988678}{WDT0}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (status\ !=\ \mbox{\hyperlink{_e_f___driver___common_8h_ab56c746d5d1672835c101f00f7c90b7c}{EF\_DRIVER\_OK}})\ \{\textcolor{keywordflow}{return}\ status;\}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Step\ 6:\ Read\ the\ current\ timer\ value\ to\ see\ if\ it\ is\ still\ running}}
\DoxyCodeLine{\ \ \ \ status\ =\ \mbox{\hyperlink{_e_f___w_d_t32_8c_a070bae4e509f7ff44bde19c4395c1f13}{EF\_WDT32\_readTimerValue}}(\mbox{\hyperlink{_e_f___w_d_t32__example_8c_a09d9e73511b524c49ca77eec8f988678}{WDT0}},\ \&timer\_value);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (status\ !=\ \mbox{\hyperlink{_e_f___driver___common_8h_ab56c746d5d1672835c101f00f7c90b7c}{EF\_DRIVER\_OK}})\ \{\textcolor{keywordflow}{return}\ status;\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Step\ 7:\ Simulate\ some\ more\ processing}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{volatile}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 1000000;\ ++i);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Step\ 8:\ Disable\ the\ Watchdog\ Timer}}
\DoxyCodeLine{\ \ \ \ status\ =\ \mbox{\hyperlink{_e_f___w_d_t32_8c_a07bd55f1fdacb26adc08bd83e63a3de1}{EF\_WDT32\_disable}}(\mbox{\hyperlink{_e_f___w_d_t32__example_8c_a09d9e73511b524c49ca77eec8f988678}{WDT0}});}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (status\ !=\ \mbox{\hyperlink{_e_f___driver___common_8h_ab56c746d5d1672835c101f00f7c90b7c}{EF\_DRIVER\_OK}})\ \{\textcolor{keywordflow}{return}\ status;\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_e_f___driver___common_8h_ab56c746d5d1672835c101f00f7c90b7c}{EF\_DRIVER\_OK}};}
\DoxyCodeLine{\}}

\end{DoxyCode}
 